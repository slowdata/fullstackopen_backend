{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","onChange","type","value","PersonForm","name","number","onSubmit","onChangeName","onChangeNumber","Persons","persons","deletePerson","map","person","key","id","onClick","Notification","children","error","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","BASE_URL","axios","get","then","response","data","newPerson","post","put","delete","status","Header","title","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","fPersons","setFPersons","setFilter","message","setMessage","useEffect","personServices","nameExists","find","text","e","target","filterPersons","toLowerCase","includes","preventDefault","window","confirm","returnPerson","newPersons","p","catch","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e2ffe52.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filter, onChange }) => (\r\n  <>\r\n    filter shown with: <input type=\"text\" value={filter} onChange={onChange} />\r\n  </>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  name,\r\n  number,\r\n  onSubmit,\r\n  onChangeName,\r\n  onChangeNumber\r\n}) => (\r\n  <form onSubmit={onSubmit}>\r\n    <div>\r\n      name: <input value={name} onChange={onChangeName} />\r\n    </div>\r\n    <div>\r\n      number: <input value={number} onChange={onChangeNumber} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, deletePerson }) =>\r\n  persons.map(person => (\r\n    <div key={person.id}>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={() => deletePerson(person)}>delete</button>\r\n    </div>\r\n  ));\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ type, children }) => {\r\n  if (children) {\r\n    const error = {\r\n      color: type === \"error\" ? \"red\" : \"green\",\r\n      background: \"lightgrey\",\r\n      fontSize: 20,\r\n      borderStyle: \"solid\",\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10\r\n    };\r\n    return children && <div style={error}>{children}</div>;\r\n  } else return null;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://blooming-mesa-56752.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => axios.get(BASE_URL).then(response => response.data);\r\n\r\nconst createPerson = newPerson =>\r\n  axios.post(BASE_URL, newPerson).then(response => response.data);\r\n\r\nconst updatePerson = (id, newPerson) =>\r\n  axios.put(`${BASE_URL}/${id}`, newPerson).then(response => response.data);\r\n\r\nconst deletePerson = id =>\r\n  axios.delete(`${BASE_URL}/${id}`).then(response => response.status);\r\n\r\nexport default { getAll, createPerson, updatePerson, deletePerson };\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nimport personServices from \"./services/persons\";\n\nconst Header = ({ title }) => <h2>{title}</h2>;\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [fPersons, setFPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState({});\n\n  useEffect(() => {\n    personServices.getAll().then(persons => {\n      setFPersons(persons);\n      setPersons(persons);\n    });\n  }, []);\n\n  const handleName = e => {\n    setNewName(e.target.value);\n  };\n  const handleNumber = e => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const person = {\n      name: newName,\n      number: newNumber\n    };\n    if (!nameExists(person.name)) {\n      personServices.createPerson(person).then(returnPerson => {\n        setMessage({ text: `Added ${person.name}`, type: \"success\" });\n        setTimeout(() => {\n          setMessage({});\n        }, 5000);\n        setFPersons(fPersons.concat(returnPerson));\n        setPersons(persons.concat(returnPerson));\n      });\n    } else {\n      const result = window.confirm(\n        `${person.name} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (result) {\n        const id = nameExists(person.name).id;\n        personServices\n          .updatePerson(id, person)\n          .then(returnPerson => {\n            const newPersons = persons.map(p =>\n              p.id !== id ? p : returnPerson\n            );\n            setFPersons(newPersons);\n            setPersons(newPersons);\n          })\n          .catch(error => {\n            setMessage({\n              text: `Information of ${person.name} has already been removed from server`,\n              type: \"error\"\n            });\n            const newPersons = persons.filter(p => id !== p.id);\n            setFPersons(newPersons);\n            setPersons(newPersons);\n          });\n      }\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const nameExists = name => persons.find(person => person.name === name);\n\n  const handleFilter = e => {\n    setFilter(e.target.value);\n    const filterPersons = persons.filter(person =>\n      person.name.toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    setFPersons(filterPersons);\n  };\n\n  const handleDelete = person => {\n    const result = window.confirm(`Delete ${person.name}`);\n    if (result) {\n      personServices.deletePerson(person.id).then(status => {\n        if (status === 200) {\n          setPersons(persons.filter(p => p.id !== person.id));\n          setFPersons(persons.filter(p => p.id !== person.id));\n        }\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Header title=\"Phonebook\" />\n      <Notification type={message.type}>{message.text}</Notification>\n      <Filter filter={filter} onChange={handleFilter} />\n      <Header title=\"add a new\" />\n\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        onSubmit={handleSubmit}\n        onChangeName={handleName}\n        onChangeNumber={handleNumber}\n      />\n\n      <Header title=\"Numbers\" />\n\n      <Persons persons={fPersons} deletePerson={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}